# stLFR to Supernova 

## BRIEF
__________________

- The stLFR2Supernova is a pipeline which can use Supernova to do the de novo assembly work of stLFR reads. 
    -  the stLFR reads means the raw reads generated by stLFR technology [1]
    -  the Supernova means the denovo software from 10X Genomes [2]

## INSTALL
__________________

### how to download 

```
git clone https://gitlab.com/BGIQD/stlfr2supernova_pipeline.git YOUR-INSTALL-DIR
```

### how to install

There is no need to install or compeir this pipeline becasuse it is writed by perl and shell script.

## USAGE
__________________

### how to run a new project .

- 1th, create a new working folder

```
> mkdir YourProjectRoot
```

- 2th, copy the default profile into your working folder

```
> cd YourProjectRoot
> cp YOUR-INSTALL-DIR/profile ./your_own_profile
```

- 3th, edit your_own_profile

```
> vi ./your_own_profile 
```
- 4th, run the whole pipeline with your profile

```
> YOUR-INSTALL-DIR/run.sh  # make sure your run this command in YourProjectRoot
```
- 4.1th, if you don't want to run the whole pipeline, you can run it step by step and only run what you need .

```
> YOUR-INSTALL-DIR/step_x_xxxx.sh # make sure your run this command in YourProjectRoot
```

### how to configure the profile 

TODO

## OTHERS
__________________

### how to re-generate the barcode_freq.txt by split_reads.1.fq.gz

```
gzip -dc split_reads.1.fq.gz | grep '@CL' | awk -F '[# |]' '{print$2}' | awk -F '/' '{print $1}' | sort | uniq -c | awk '{printf("%s\t%s\n",$2,$1);}' > ~/barcode_freq.txt
```

## REFRENCE
__________________

[1] [Efficient and unique co-barcoding of second-generation sequencing reads from long DNA molecules enabling cost effective and accurate sequencing, haplotyping, and de novo assembly][11]
 
[2] [Direct determination of diploid genome sequences][22]

[11]: https://www.ncbi.nlm.nih.gov/pubmed/30940689 
[22]: https://www.ncbi.nlm.nih.gov/pubmed/28381613 
